<template>
    <div class="container">
        <aside class="menu">
            <p class="menu-label is-size-3">Menu</p>
            <ul class="menu-list">
                <li>
                    <router-link :to="{ name:'profile' }" v-bind:class="classObject">
                        <span class="icon"><i class="fa fa-user-md"></i></span> Profile
                    </router-link>
                    <ul>
                        <li>
                            <router-link :to="{name: 'profile.edit'}">
                                <span class="icon is-small"><i class="fa fa-info"></i></span> Update profile
                            </router-link>
                        </li>
                        <hr>
                        <li>
                            <router-link :to="{ name: 'password.edit' }">
                                <span class="icon is-small"><i class="fa fa-key"></i></span> Change Password
                            </router-link>
                        </li>
                    </ul>
                </li>

                <hr>

                <li>
                    <router-link :to="{ name: 'booking' }" v-bind:class="classObject">
                        <span class="icon"><i class="fa fa-clipboard"></i></span> Booking <p class="tag is-light">Developing...</p>
                    </router-link>
                </li>
                <hr>
                <li>
                    <router-link :to="{ name: 'message' }" v-bind:class="classObject">
                        <span class="icon"><i class="fa fa-comment"></i></span> Message <p class="tag is-light">Developing...</p>
                    </router-link>
                </li>
                <hr v-show="this.role === 1 || this.role === 2">
                <li v-show="this.role === 1 || this.role === 2">
                    <router-link :to="{ name: 'form.show' }" v-bind:class="classObject">
                        <span class="icon"><i class="fa fa-table"></i></span> Tables
                    </router-link>
                </li>

                <hr v-show="this.role === 1 || this.role === 2">

                <li v-show="this.role === 1 || this.role === 2">
                    <router-link :to="{ name: 'user.list' }" v-bind:class="classObject">
                        <span class="icon"><i class="fa fa-home"></i></span> User List
                    </router-link>
                    <ul>
                        <li>
                            <router-link :to="{name: 'user.create'}">
                                <span class="icon is-small"><i class="fa fa-plus"></i></span> Invite Users
                            </router-link>
                        </li>
                    </ul>
                </li>
                <hr>
                <li>
                    <a href="/logout">
                        <span class="icon is-dark"><i class="fa fa-sign-out"></i></span> Log out
                    </a>
                </li>
            </ul>

        </aside>
    </div>
</template>


<script>

    export default{

        data() {
            return{
                isActive: true,
                error: null
            }
        },

        props:['role', 'id'],

        computed: {
            classObject: function () {
                return {
                    active: this.isActive && !this.error,
                    'text-danger': this.error && this.error.type === 'fatal'
                }
            }
        }

    }

</script>
